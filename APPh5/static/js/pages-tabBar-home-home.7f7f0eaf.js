(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabBar-home-home"],{"04fd":function(t,e,n){var a=n("8da8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("a17ef4f2",a,!0,{sourceMap:!1,shadowMode:!1})},1365:function(t,e,n){"use strict";n.r(e);var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"homeView"},[n("v-uni-view",{staticClass:"uni-padding-wrap"},[n("v-uni-view",{staticClass:"page-section swiper"},[n("v-uni-view",{staticClass:"page-section-spacing"},[n("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":t.indicatorDots,autoplay:t.autoplay,interval:t.interval,duration:t.duration}},[n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item "},[n("v-uni-image",{staticClass:"topBanner",attrs:{src:"../../../static/home/banner_02.png",mode:""}})],1)],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item "},[n("v-uni-image",{staticClass:"topBanner",attrs:{src:"../../../static/home/banner_01.png",mode:""}})],1)],1)],1)],1)],1)],1),t._l(t.lists,function(e,a){return n("v-uni-view",{key:a,staticClass:"uni-card"},[n("v-uni-view",{staticClass:"uni-list"},[n("v-uni-view",{staticClass:"uni-list-cell uni-collapse"},[n("v-uni-view",{staticClass:"titleCellView",class:e.open?"uni-active":"",attrs:{"hover-class":"uni-list-cell-hover"},on:{click:function(e){e=t.$handleEvent(e),t.trigerCollapse(a)}}},[n("v-uni-image",{staticClass:"itemBanner",attrs:{src:e.imagePath,mode:""}})],1),n("v-uni-view",{staticClass:"uni-list uni-collapse",class:e.open?"uni-active":""},[n("v-uni-view",{staticClass:"uni-product-list"},t._l(e.pages,function(e,a){return n("v-uni-view",{key:a,staticClass:"uni-product"},[n("v-uni-view",{staticClass:"image-view",on:{click:function(n){n=t.$handleEvent(n),t.goDetailPage(e.productid)}}},[t.renderImage?n("v-uni-image",{staticClass:"uni-product-image",attrs:{src:e.productimgpath?e.productimgpath:"../../../static/home/tengxunVideo.jpg"}}):t._e()],1)],1)}))],1)],1)],1)],1)}),n("v-uni-view",{staticClass:"footView"})],2)},o=[],r=n("d173"),s=n.n(r),c=(n("51ea"),{data:function(){return{webviewStyles:{progress:{color:"#FF3333"}},mixindisplay:!1,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,renderImage:!0,lists:[{id:"view",name:"购物神卡",imagePath:"../../../static/home/item_banner_01.png",open:!0,pages:[{iamgePath:"../../../static/home/jingdong.png",toUrl:"../../../static/home/jingdong.png"},{iamgePath:"../../../static/home/tianmao.png",toUrl:"../../../static/home/jingdong.png"},{iamgePath:"../../../static/home/suning.png",toUrl:"../../../static/home/jingdong.png"},{iamgePath:"../../../static/home/wumei.png",toUrl:"../../../static/home/jingdong.png"}]},{id:"content",name:"娱乐生活",imagePath:"../../../static/home/item_banner_02.png",open:!1,pages:[{iamgePath:"../../../static/home/youku.png",toUrl:"../../../static/home/jingdong.png"},{iamgePath:"../../../static/home/tengxunVideo.jpg",toUrl:"../../../static/home/jingdong.png"},{iamgePath:"../../../static/home/aiqiyi.png",toUrl:"../../../static/home/jingdong.png"}]},{id:"form",name:"游戏时代",imagePath:"../../../static/home/item_banner_03.png",open:!1,pages:[]}]}},onReady:function(t){},onShow:function(t){var e=s.a.getUrlKey("code");if(console.log("codestr == ",e),uni.setStorage({key:"userInfo",data:{xinid:"0010000020"},success:function(t){}}),e){var n=uni.getStorageSync("userInfo");n?console.log(n):this.getUserToken(e)}else{var a=uni.getStorageSync("userInfo");console.log("userInfoValue1 =="+a),a?console.log(a):s.a.toUrl("https://mixin.one/oauth/authorize?client_id=1a240817-05f3-46f6-abcf-56d12fc8c32d&scope=PROFILE:READ+APPS:READ+APPS:WRITE")}},onPullDownRefresh:function(){this.getnewsList()},onLoad:function(t){a=this,this.getnewsList()},methods:{register:function(t){uni.showNavigationBarLoading();var e=s.a.getRequestUrl("register"),n={username:t.full_name,xinid:t.user_id,headUrl:t.avatar_url,phone:t.phone,created_at:t.created_at,identity_number:t.identity_number,session_id:t.session_id,code_id:t.code_id,code_url:t.code_url};uni.setStorage({key:"userInfo",data:n,success:function(t){console.log("userInfo save success")}}),s.a.httpRequest("POST",e,n,function(t){uni.hideNavigationBarLoading(),uni.stopPullDownRefresh(),console.log(t)})},getUserToken:function(t){uni.request({url:"https://api.mixin.one/oauth/token",data:{client_id:"1a240817-05f3-46f6-abcf-56d12fc8c32d",code:t,client_secret:"5267529d2b51f5e697d4eb46c36a1f29e3ddbccdfe743a6581fdc207a72b42c3"},method:"POST",success:function(t){var e=t.data.data.access_token;console.log("tokenStr == "+e),e&&a.getUserInfo(e)},fail:function(t){uni.showModal({title:"提示",content:"fail =="+JSON.stringify(t.data),showCancel:!1,confirmText:"确定"})}})},getUserInfo:function(t){uni.request({url:"https://api.mixin.one/me",header:{Authorization:"Bearer "+t},method:"GET",success:function(t){var e=t.data.data;e&&a.register(e)},fail:function(t){uni.showModal({title:"提示",content:"fail =="+JSON.stringify(t.data),showCancel:!1,confirmText:"确定"})}})},getnewsList:function(){uni.showNavigationBarLoading();var t=s.a.getRequestUrl("getProductList");s.a.httpRequest("POST",t,{},function(t){uni.hideNavigationBarLoading(),uni.stopPullDownRefresh();for(var e=t.resData,n=new Array,i=new Array,o=0;o<e.length;o++){var r=e[o],s=r.productimgpath.split("/"),c=s.pop();r.productimgpath="../../../static/home/"+c,"giftcards"==r.productcategories?n.push(r):"videocard"==r.productcategories&&i.push(r)}for(o=0;o<a.lists.length;o++){var u=a.lists[o];"view"==u.id?a.lists[o].pages=n:"content"==u.id&&(a.lists[o].pages=i)}})},trigerCollapse:function(t){if(this.lists[t].pages.length)for(var e=0;e<this.lists.length;++e)this.lists[e].open=t===e&&!this.lists[t].open;else uni.showModal({title:"提示",content:"此分组下暂时没有内容，正在快马加鞭的研发。。。",showCancel:!1,confirmText:"确定"})},clickAction:function(){console.log("nhoa")},goDetailPage:function(t){uni.navigateTo({url:"../../productDetails/productDetails?productid="+t})}}}),u=c,d=(n("da8c"),n("2877")),l=Object(d["a"])(u,i,o,!1,null,"1bd1aa38",null);l.options.__file="home.vue";e["default"]=l.exports},"51ea":function(t,e){function n(t){if("number"!==typeof t||t<0)return t;var e=parseInt(t/3600);t%=3600;var n=parseInt(t/60);t%=60;var a=t;return[e,n,a].map(function(t){return t=t.toString(),t[1]?t:"0"+t}).join(":")}function a(t,e){return"string"===typeof t&&"string"===typeof e&&(t=parseFloat(t),e=parseFloat(e)),t=t.toFixed(2),e=e.toFixed(2),{longitude:t.toString().split("."),latitude:e.toString().split(".")}}function i(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}var o={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(t){var e="";for(var n in this.UNITS)if(t>=this.UNITS[n]){e=Math.floor(t/this.UNITS[n])+n+"前";break}return e||"刚刚"},format:function(t){var e=this.parse(t),n=Date.now()-e.getTime();if(n<this.UNITS["天"])return this.humanize(n);var a=function(t){return t<10?"0"+t:t};return e.getFullYear()+"/"+a(e.getMonth()+1)+"/"+a(e.getDay())+"-"+a(e.getHours())+":"+a(e.getMinutes())},parse:function(t){var e=t.split(/[^0-9]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])}};t.exports={formatTime:n,formatLocation:a,dateUtils:o,getUrlKey:i}},"8da8":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\nuni-page-body[data-v-1bd1aa38]{height:auto;background-image:-o-linear-gradient(40deg,#43cbff,#9708cc);background-image:linear-gradient(50deg,#43cbff,#9708cc)\n}\n.swiper[data-v-1bd1aa38]{height:%?400?%;margin-top:%?35?%\n}\n.swiper-item[data-v-1bd1aa38]{display:block;height:%?400?%;line-height:%?400?%;text-align:center;border-radius:%?20?%\n}\n.uni-card[data-v-1bd1aa38]{-webkit-box-shadow:none;box-shadow:none;margin:%?30?% 0 %?20?% 0;background-color:rgba(0,0,0,0)\n}\n.uni-list[data-v-1bd1aa38]{background-color:rgba(0,0,0,0)\n}\n.titleCellView[data-v-1bd1aa38]{height:%?150?%;line-height:%?150?%;text-align:center;width:94%;border-radius:%?20?%\n}\n.uni-list[data-v-1bd1aa38]:after{height:0\n}\n.uni-list[data-v-1bd1aa38]:before{height:0\n}\n.image-view[data-v-1bd1aa38]{margin:%?10?% 0 0 3%\n}\n.uni-product[data-v-1bd1aa38]{height:%?150?%;width:%?300?%;margin:%?0?% %?25?% %?0?% 0\n}\n.uni-product-list[data-v-1bd1aa38]{background-color:rgba(0,0,0,0)\n}\n.uni-product-image[data-v-1bd1aa38]{height:%?160?%;border-radius:%?20?%\n}\n.topBanner[data-v-1bd1aa38]{height:%?400?%;width:100%;border-radius:%?20?%\n}\n.itemBanner[data-v-1bd1aa38]{height:%?150?%;width:100%;border-radius:%?20?%\n}\n.footView[data-v-1bd1aa38]{height:%?10?%;margin-top:%?20?%\n}\nbody.?%PAGE?%[data-v-1bd1aa38]{background-image:-o-linear-gradient(40deg,#43cbff,#9708cc);background-image:linear-gradient(50deg,#43cbff,#9708cc)\n}",""])},d173:function(t,e){function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e,n,a){uni.showLoading({title:"加载中"});var i=new XMLHttpRequest;"get"==t?o({url:e,type:"get",dataType:"jsonp",success:function(t){console.log(t)},error:function(t){console.log(t)}}):(i.open(t,e),i.setRequestHeader("Content-type","application/json;charset=utf-8"),n?(console.log("JSON == "+JSON.stringify(n)),i.send(JSON.stringify(n))):i.send()),i.onreadystatechange=function(){if(uni.hideLoading(),4==i.readyState&&200==i.status){var t=JSON.parse(i.response);a(t)}}}function i(t){var e="https://cardmallserver.applinzi.com/cardMallServer/";return"getProductList"==t?e+"getProductList.do":"register"==t?e+"register.do":"getProductDetails"==t?e+"getProductDetails.do":"createOrder"==t?e+"createOrder.do":"updataOrder"==t?e+"updataOrder.do":"getUserOrderList"==t?e+"getUserOrderList.do":"请传入有效的参数"}function o(t){var e,a,i,o,r,s;function c(t){return t.replace(/^\s+|\s+$/g,"")}t=t||{},a=t.type||"GET",a=c(a).toUpperCase(),i=t.url,i=c(i),o=t.async||!0,r=t.dataType||"HTML",r=c(r).toUpperCase(),s=t.data||{};var u=function(){if("object"==n(s)){var t="";for(var e in s)t+=e+"="+s[e]+"&";s=t.substr(0,t.length-1)}"GET"!=a&&"JSONP"!=r||(-1==i.lastIndexOf("?")?i+="?"+s:i+="&"+s)};if(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),"JSONP"==r){"function"==typeof t.beforeSend&&t.beforeSend(e);var d=("jsonp_"+Math.random()).replace(".",""),l=document.getElementsByTagName("head")[0];s.callback=d;var g=document.createElement("script");return g.type="text/javascript",g.onerror=function(){console.log("failed"),t.error&&t.error("failed")},l.appendChild(g),window[d]=function(e){l.removeChild(g),window[d]=null,t.success&&t.success(e)},u(),void(g.src=i)}u(),e.open(a,i,o),e.setRequestHeader("Content-type","application/json;charset=utf-8"),"function"==typeof t.beforeSend&&t.beforeSend(e),e.send(s),e.onreadystatechange=function(){if(200!=e.status)return console.log(e.status+"failed"),void(t.error&&t.error(e.status+"failed"));if(4==e.readyState&&200==e.status){if("JSON"==r)try{res=JSON.parse(e.responseText)}catch(n){console.log("json格式错误"),t.error("json格式错误")}else res="XML"==r?e.responseXML:e.responseText;t.success&&t.success(res)}}}function r(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}function s(t){console.log("url =="+t),window.location.href=t}function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function u(){return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()}t.exports={httpRequest:a,getRequestUrl:i,ajaxRequest:o,getUrlKey:r,toUrl:s,guid:u}},da8c:function(t,e,n){"use strict";var a=n("04fd"),i=n.n(a);i.a}}]);